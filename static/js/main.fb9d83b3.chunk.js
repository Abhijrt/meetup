(this.webpackJsonpmeetup=this.webpackJsonpmeetup||[]).push([[0],{11:function(e,t,n){e.exports={item:"MeetupItem_item__16n8F",image:"MeetupItem_image__1NY8N",content:"MeetupItem_content__3JjUt",actions:"MeetupItem_actions__i7I9f"}},13:function(e,t,n){e.exports={header:"MainNavigation_header__1n2lY",logo:"MainNavigation_logo__18U5y",active:"MainNavigation_active__31o86",badge:"MainNavigation_badge__3nHcm"}},20:function(e,t,n){e.exports={main:"Layout_main__36D6M"}},22:function(e,t,n){e.exports={card:"Card_card__3_jzl"}},23:function(e,t,n){e.exports={list:"MeetupList_list__3WMaa"}},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(19),r=n.n(i),s=(n(29),n(20)),a=n.n(s),o=n(9),d=n(13),u=n.n(d),j=n(12),l=n(0),b=Object(c.createContext)({favourites:[],totalFavouritesCount:0,addFavourite:function(e){},removeFavourite:function(e){},itemIsFavourite:function(e){}});function h(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),i=n[0],r=n[1];var s={favourites:i,totalFavouritesCount:i.length,addFavourite:function(e){console.log("ADDING"),r((function(t){return t.concat(e)}))},removeFavourite:function(e){r((function(t){return t.filter((function(t){return t.id!==e}))}))},itemIsFavourite:function(e){return console.log("CHECKUING"),i.some((function(t){return t.id===e}))}};return Object(l.jsx)(b.Provider,{value:s,children:e.children})}var m=b;var O=function(){var e=Object(c.useContext)(m);return Object(l.jsxs)("header",{className:u.a.header,children:[Object(l.jsx)("div",{className:u.a.logo,children:"React Meetups"}),Object(l.jsx)("nav",{children:Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:"/",children:"All Meetups"})}),Object(l.jsx)("li",{children:Object(l.jsx)(o.b,{to:"/new-meetup",children:"Add New Meetup"})}),Object(l.jsx)("li",{children:Object(l.jsxs)(o.b,{to:"/favorites",children:["My Favorites",Object(l.jsx)("span",{className:u.a.badge,children:e.totalFavouritesCount})]})})]})})]})};var x=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(O,{}),Object(l.jsx)("main",{className:a.a.main,children:e.children})]})},v=n(2),f=n(24),p=n(11),_=n.n(p),N=n(22),g=n.n(N);var M=function(e){return Object(l.jsx)("div",{className:g.a.card,children:e.children})};var F=function(e){var t=Object(c.useContext)(m),n=t.itemIsFavourite(e.id);return Object(l.jsx)("li",{className:_.a.item,children:Object(l.jsxs)(M,{children:[Object(l.jsx)("div",{className:_.a.image,children:Object(l.jsx)("img",{src:e.image,alt:e.title})}),Object(l.jsxs)("div",{className:_.a.content,children:[Object(l.jsx)("h3",{children:e.title}),Object(l.jsx)("address",{children:e.address}),Object(l.jsx)("p",{children:e.description})]}),Object(l.jsx)("div",{className:_.a.actions,children:Object(l.jsx)("button",{onClick:function(){n?t.removeFavourite(e.id):t.addFavourite({id:e.id,title:e.title,image:e.image,description:e.description,address:e.address})},children:n?"Remove From Favourite":"Add to Favourite"})})]})})},y=n(23),C=n.n(y);var I=function(e){return Object(l.jsx)("ul",{className:C.a.list,children:e.meetups.map((function(e){return Object(l.jsx)(F,{id:e.id,image:e.image,title:e.title,address:e.address,description:e.description},e.id)}))})};var w=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],i=t[1];return Object(c.useEffect)((function(){fetch("https://react-summery-default-rtdb.firebaseio.com/meetup.json").then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var c=Object(f.a)({id:n},e[n]);t.push(c)}i(t)}))}),[]),Object(l.jsx)("section",{children:Object(l.jsx)(I,{meetups:n})})},A=n(8),D=n.n(A);var R=function(e){var t=Object(c.useRef)(),n=Object(c.useRef)(),i=Object(c.useRef)(),r=Object(c.useRef)();return Object(l.jsx)(M,{children:Object(l.jsxs)("form",{className:D.a.form,onSubmit:function(c){c.preventDefault();var s={title:t.current.value,image:n.current.value,address:i.current.value,description:r.current.value};e.onAddMeetup(s)},children:[Object(l.jsxs)("div",{className:D.a.control,children:[Object(l.jsx)("label",{htmlFor:"title",children:"Meetup Title"}),Object(l.jsx)("input",{type:"text",required:!0,id:"title",ref:t})]}),Object(l.jsxs)("div",{className:D.a.control,children:[Object(l.jsx)("label",{htmlFor:"image",children:"Meetup Image"}),Object(l.jsx)("input",{type:"url",required:!0,id:"image",ref:n})]}),Object(l.jsxs)("div",{className:D.a.control,children:[Object(l.jsx)("label",{htmlFor:"address",children:"Address"}),Object(l.jsx)("input",{type:"text",required:!0,id:"address",ref:i})]}),Object(l.jsxs)("div",{className:D.a.control,children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description"}),Object(l.jsx)("textarea",{id:"description",required:!0,rows:"5",ref:r})]}),Object(l.jsx)("div",{className:D.a.actions,children:Object(l.jsx)("button",{children:"Add Meetup"})})]})})};var S=function(){return Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"Add New Meetup"}),Object(l.jsx)(R,{onAddMeetup:function(e){fetch("https://react-summery-default-rtdb.firebaseio.com/meetup.json",{method:"POST",body:JSON.stringify(e),headersL:{"Content-Type":"application/json"}})}})]})};var q=function(){var e,t=Object(c.useContext)(m);return e=0===t.totalFavouritesCount?Object(l.jsx)("p",{children:"You Don't Have any Favourite Meetup"}):Object(l.jsx)(I,{meetups:t.favourites}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{children:"My favourite"}),e]})};var J=function(){return Object(l.jsx)(o.a,{children:Object(l.jsx)(x,{children:Object(l.jsxs)(v.c,{children:[Object(l.jsx)(v.a,{path:"/",exact:!0,children:Object(l.jsx)(w,{})}),Object(l.jsx)(v.a,{path:"/new-meetup",children:Object(l.jsx)(S,{})}),Object(l.jsx)(v.a,{path:"/favorites",children:Object(l.jsx)(q,{})})]})})})};r.a.render(Object(l.jsx)(h,{children:Object(l.jsx)(J,{})}),document.getElementById("root"))},8:function(e,t,n){e.exports={form:"NewMeetupForm_form__1Qsl3",control:"NewMeetupForm_control__xuwh5",actions:"NewMeetupForm_actions__tMvWn"}}},[[36,1,2]]]);
//# sourceMappingURL=main.fb9d83b3.chunk.js.map